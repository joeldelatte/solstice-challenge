{"ast":null,"code":"var _jsxFileName = \"/Users/joeldelatte/portfolioProjects/solsticeAssessment/solstice/client/src/components/Dashboard/CustomerAccounts.js\";\nimport React, { useContext, useState, useEffect, useLayoutEffect } from \"react\";\nimport http from \"../../utils/http-common\";\nimport Account from \"../Main/Accounts/Account\";\nimport { CustomerContext } from \"../../utils/CustomerContext\";\nimport \"../Main/main.css\";\n\nconst CustomerAccounts = () => {\n  const {\n    globalCustomer\n  } = useContext(CustomerContext);\n  const [accounts, setAccounts] = useState([]);\n  const [customerID, setCustomerID] = useState();\n\n  function getAllAccounts() {\n    http.get(\"/accounts\").then(function (response) {\n      let data = response.data.accounts.filter(element => {\n        if (element.customer_id == customerID) {\n          return element;\n        }\n      });\n      console.log(data);\n      setAccounts(data);\n    }).catch(function (err) {\n      console.log(err);\n    });\n  }\n\n  const renderAccounts = () => {\n    if (!accounts.length) {\n      return /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 16\n        }\n      }, \"No accounts, yet!\");\n    } else {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }\n      }, \"Customer's Accounts:\"), /*#__PURE__*/React.createElement(\"table\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 17\n        }\n      }, \"Customer ID\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 17\n        }\n      }, \"Address\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 17\n        }\n      }, \"City\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 17\n        }\n      }, \"State\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 17\n        }\n      }, \"Zip Code\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }\n      }, \"Solar Farm ID\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 17\n        }\n      }, \"Capacity Share\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 17\n        }\n      }, \"Created On\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }\n      }, accounts && accounts.map((account, index) => {\n        return /*#__PURE__*/React.createElement(Account, {\n          key: index,\n          customer_id: account.customer_id,\n          address: account.address,\n          city: account.city,\n          state: account.state,\n          zip_code: account.zip_code,\n          solar_farm_id: account.solar_farm_id,\n          capacity_share: account.capacity_share,\n          created_date: account.created_date,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 23\n          }\n        });\n      }))));\n    }\n  };\n\n  useEffect(() => {\n    globalCustomer && setCustomerID(globalCustomer.id);\n    console.log(customerID);\n  }, [globalCustomer, customerID]);\n  useLayoutEffect(() => {\n    setTimeout(() => {\n      getAllAccounts();\n    }, 550);\n  }, [globalCustomer, customerID]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, renderAccounts()));\n};\n\nexport default CustomerAccounts;","map":{"version":3,"sources":["/Users/joeldelatte/portfolioProjects/solsticeAssessment/solstice/client/src/components/Dashboard/CustomerAccounts.js"],"names":["React","useContext","useState","useEffect","useLayoutEffect","http","Account","CustomerContext","CustomerAccounts","globalCustomer","accounts","setAccounts","customerID","setCustomerID","getAllAccounts","get","then","response","data","filter","element","customer_id","console","log","catch","err","renderAccounts","length","map","account","index","address","city","state","zip_code","solar_farm_id","capacity_share","created_date","id","setTimeout"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect, useLayoutEffect} from \"react\";\nimport http from \"../../utils/http-common\";\nimport Account from \"../Main/Accounts/Account\";\nimport { CustomerContext } from \"../../utils/CustomerContext\";\nimport \"../Main/main.css\";\n\nconst CustomerAccounts = () => {\n\n    const { globalCustomer } = useContext(CustomerContext);\n    const [accounts, setAccounts] = useState([]);\n    const [customerID, setCustomerID] = useState();\n\n    function getAllAccounts() {\n      http\n        .get(\"/accounts\")\n        .then(function (response) {\n          let data = response.data.accounts.filter((element)=>{\n            if(element.customer_id == customerID) {\n              return element;\n            } \n          }\n          );\n          console.log(data);\n          setAccounts(data);\n        })\n        .catch(function (err) {\n          console.log(err);\n        });\n        \n    }\n\n    const renderAccounts = () => {\n      if(!accounts.length) {\n        return <h3>No accounts, yet!</h3>\n      } else {\n        return (\n          <>\n          <h2>Customer's Accounts:</h2>\n          <table>\n            <thead>\n              <tr>\n                <th>Customer ID</th>\n                <th>Address</th>\n                <th>City</th>\n                <th>State</th>\n                <th>Zip Code</th>\n                <th>Solar Farm ID</th>\n                <th>Capacity Share</th>\n                <th>Created On</th>\n              </tr>\n            </thead>\n            <tbody>\n              {accounts &&\n                accounts.map((account, index) => {\n                  return (\n                      <Account\n                        key={index}\n                        customer_id={account.customer_id}\n                        address={account.address}\n                        city={account.city}\n                        state={account.state}\n                        zip_code={account.zip_code}\n                        solar_farm_id={account.solar_farm_id}\n                        capacity_share={account.capacity_share}\n                        created_date={account.created_date}\n                      />\n                    \n                  );\n                })}\n            </tbody>\n          </table>\n          </>\n        )\n        \n      }\n    }\n\n    useEffect(() => {\n        (globalCustomer && setCustomerID(globalCustomer.id))\n        console.log(customerID);        \n    }, [globalCustomer, customerID])\n    \n\n    useLayoutEffect(() => {\n        setTimeout(() => {\n          getAllAccounts();\n        }, 550);\n    }, [globalCustomer, customerID]);\n\n    \n\n    return (\n      <>\n        <div className=\"container\">\n          {renderAccounts()}\n        </div>\n      </>\n    );\n\n}\n\nexport default CustomerAccounts;"]},"metadata":{},"sourceType":"module"}