{"ast":null,"code":"var _jsxFileName = \"/Users/joeldelatte/portfolioProjects/solsticeAssessment/solstice/client/src/components/Dashboard/CustomerAccounts.js\";\nimport React, { useContext, useState, useEffect, useLayoutEffect } from \"react\";\nimport http from \"../../utils/http-common\";\nimport Account from \"../Main/Accounts/Account\";\nimport { CustomerContext } from \"../../utils/CustomerContext\";\n\nconst CustomerAccounts = () => {\n  const {\n    globalCustomer\n  } = useContext(CustomerContext);\n  const [accounts, setAccounts] = useState([]);\n  const [customerAccounts, setCustomerAccounts] = useState();\n  const [customerID, setCustomerID] = useState();\n\n  function getAllAccounts() {\n    http.get(\"/accounts\").then(function (response) {\n      setAccounts(response.data.accounts);\n    }).catch(function (err) {\n      console.log(err);\n    });\n  } // function setProfileAccounts() {\n  //     response.data.accounts.filter((element)=>{\n  //         if (element.id === customerID) {\n  //             setCustomerAccounts(element);\n  //         }\n  //     })\n  // }\n\n\n  useEffect(() => {\n    globalCustomer && setCustomerID(globalCustomer.id);\n    console.log(customerID);\n  }, [globalCustomer, customerID]);\n  useLayoutEffect(() => {\n    getAllAccounts();\n    console.log(accounts.filter(item => item.customer_id.indexOf(globalCustomer.id) !== -1));\n  }, [globalCustomer]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, \"Customer's Accounts:\"), /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }, \"Customer ID\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  }, \"Address\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }, \"City\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, \"State\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, \"Zip Code\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, \"Solar Farm ID\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, \"Capacity Share\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, \"Created On\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, accounts && accounts.map((account, index) => {\n    return /*#__PURE__*/React.createElement(Account, {\n      key: index // click={() => props.clicked(index)}\n      ,\n      customer_id: account.customer_id,\n      address: account.address,\n      city: account.city,\n      state: account.state,\n      zip_code: account.zip_code,\n      solar_farm_id: account.solar_farm_id,\n      capacity_share: account.capacity_share,\n      created_date: account.created_date,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }\n    });\n  })))));\n};\n\nexport default CustomerAccounts;","map":{"version":3,"sources":["/Users/joeldelatte/portfolioProjects/solsticeAssessment/solstice/client/src/components/Dashboard/CustomerAccounts.js"],"names":["React","useContext","useState","useEffect","useLayoutEffect","http","Account","CustomerContext","CustomerAccounts","globalCustomer","accounts","setAccounts","customerAccounts","setCustomerAccounts","customerID","setCustomerID","getAllAccounts","get","then","response","data","catch","err","console","log","id","filter","item","customer_id","indexOf","map","account","index","address","city","state","zip_code","solar_farm_id","capacity_share","created_date"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect, useLayoutEffect} from \"react\";\nimport http from \"../../utils/http-common\";\nimport Account from \"../Main/Accounts/Account\";\nimport { CustomerContext } from \"../../utils/CustomerContext\";\n\nconst CustomerAccounts = () => {\n\n    const { globalCustomer } = useContext(CustomerContext);\n    const [accounts, setAccounts] = useState([]);\n    const [customerAccounts, setCustomerAccounts] = useState();\n    const [customerID, setCustomerID] = useState();\n\n    function getAllAccounts() {\n      http\n        .get(\"/accounts\")\n        .then(function (response) {\n          setAccounts(response.data.accounts)\n        })\n        .catch(function (err) {\n          console.log(err);\n        });\n    }\n\n    // function setProfileAccounts() {\n    //     response.data.accounts.filter((element)=>{\n    //         if (element.id === customerID) {\n    //             setCustomerAccounts(element);\n    //         }\n    //     })\n    // }\n    \n\n    useEffect(() => {\n        (globalCustomer && setCustomerID(globalCustomer.id))\n        console.log(customerID);        \n    }, [globalCustomer, customerID])\n    \n\n    useLayoutEffect(() => {\n      getAllAccounts();\n      console.log(accounts.filter(item => item.customer_id.indexOf(globalCustomer.id) !== -1));\n    }, [globalCustomer]);\n\n    \n\n    return (\n      <>\n        <div>\n          <h2>Customer's Accounts:</h2>\n          <table>\n            <thead>\n              <tr>\n                <th>Customer ID</th>\n                <th>Address</th>\n                <th>City</th>\n                <th>State</th>\n                <th>Zip Code</th>\n                <th>Solar Farm ID</th>\n                <th>Capacity Share</th>\n                <th>Created On</th>\n              </tr>\n            </thead>\n            <tbody>\n              {accounts &&\n                accounts.map((account, index) => {\n                  return (\n                    <Account\n                      key={index}\n                      // click={() => props.clicked(index)}\n                      customer_id={account.customer_id}\n                      address={account.address}\n                      city={account.city}\n                      state={account.state}\n                      zip_code={account.zip_code}\n                      solar_farm_id={account.solar_farm_id}\n                      capacity_share={account.capacity_share}\n                      created_date={account.created_date}\n                    />\n                  );\n                })}\n            </tbody>\n          </table>\n        </div>\n      </>\n    );\n\n}\n\nexport default CustomerAccounts;"]},"metadata":{},"sourceType":"module"}